test-codestyle:
  stage: test
  image: d21d3q/python-poetry:3.13
  before_script:
    - poetry install --with dev
  script:
    - poetry run make test_code_style


test-codeanal:
  stage: test
  image: d21d3q/python-poetry:3.13
  before_script:
    - poetry install --with dev
  script:
    - poetry run make test_codeanalysis


test-code:
  stage: test
  image: d21d3q/python-poetry:3.13
  before_script:
    - poetry install --with dev
  script:
    - poetry run make run_tests
  artifacts:
    when: always
    paths:
      - allure_results
    expire_in: 1 day
