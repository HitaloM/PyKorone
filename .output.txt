uv run python -m pycln . -a
  sophie_bot/modules/disabling/__init__.py file has been skipped âš ï¸:
        Pycln can not decide whether the unused imported names
        are useless or imported to be used somewhere else (exported).
        Please consider adding an `__all__` dunder (then re-run Pycln).
        For more info:
        https://hadialqattan.github.io/pycln/#/?id=init-file-__init__py

  sophie_bot/modules/rules/__init__.py file has been skipped âš ï¸:
        Pycln can not decide whether the unused imported names
        are useless or imported to be used somewhere else (exported).
        Please consider adding an `__all__` dunder (then re-run Pycln).
        For more info:
        https://hadialqattan.github.io/pycln/#/?id=init-file-__init__py

Wait a minute, there were undecidable cases! ðŸ˜³ðŸ˜…
447 files left unchanged, 2 undecidable cases were skipped.
uv run ruff check . --fix
All checks passed!
uv run ruff format sophie_bot/
1 file reformatted, 430 files left unchanged
"pybabel" extract -k "pl_:1,2" -k "p_:1,2" -k "l_:1" \
--add-comments="NOTE: " -o "/home/yacha/Projects/Otty/sophie/locales/bot.pot" --omit-header --sort-by-file --no-wrap "sophie_bot"
extracting messages from sophie_bot/__init__.py
extracting messages from sophie_bot/__main__.py
extracting messages from sophie_bot/config.py
extracting messages from sophie_bot/constants.py
extracting messages from sophie_bot/startup.py
extracting messages from sophie_bot/versions.py
extracting messages from sophie_bot/args/chats.py
extracting messages from sophie_bot/args/users.py
extracting messages from sophie_bot/db/db_exceptions.py
extracting messages from sophie_bot/db/cache/locale.py
extracting messages from sophie_bot/db/models/__init__.py
extracting messages from sophie_bot/db/models/_link_type.py
extracting messages from sophie_bot/db/models/antiflood.py
extracting messages from sophie_bot/db/models/api_token.py
extracting messages from sophie_bot/db/models/beta.py
extracting messages from sophie_bot/db/models/button_action.py
extracting messages from sophie_bot/db/models/chat.py
extracting messages from sophie_bot/db/models/chat_admin.py
extracting messages from sophie_bot/db/models/chat_connection_settings.py
extracting messages from sophie_bot/db/models/chat_connections.py
extracting messages from sophie_bot/db/models/chat_photo.py
extracting messages from sophie_bot/db/models/disabling.py
extracting messages from sophie_bot/db/models/federations.py
extracting messages from sophie_bot/db/models/filters.py
extracting messages from sophie_bot/db/models/greetings.py
extracting messages from sophie_bot/db/models/language.py
extracting messages from sophie_bot/db/models/notes.py
extracting messages from sophie_bot/db/models/notes_buttons.py
extracting messages from sophie_bot/db/models/privatenotes.py
extracting messages from sophie_bot/db/models/refresh_token.py
extracting messages from sophie_bot/db/models/rules.py
extracting messages from sophie_bot/db/models/settings_keyvalue.py
extracting messages from sophie_bot/db/models/warns.py
extracting messages from sophie_bot/db/models/ws_user.py
extracting messages from sophie_bot/db/models/ai/__init__.py
extracting messages from sophie_bot/db/models/ai/ai_autotranslate.py
extracting messages from sophie_bot/db/models/ai/ai_enabled.py
extracting messages from sophie_bot/db/models/ai/ai_memory.py
extracting messages from sophie_bot/db/models/ai/ai_moderator.py
extracting messages from sophie_bot/db/models/ai/ai_provider.py
extracting messages from sophie_bot/db/models/ai/ai_usage.py
extracting messages from sophie_bot/filters/admin_rights.py
extracting messages from sophie_bot/filters/chat_status.py
extracting messages from sophie_bot/filters/cmd.py
extracting messages from sophie_bot/filters/command_start.py
extracting messages from sophie_bot/filters/feature_flag.py
extracting messages from sophie_bot/filters/is_connected.py
extracting messages from sophie_bot/filters/message_status.py
extracting messages from sophie_bot/filters/user_status.py
extracting messages from sophie_bot/metrics/__init__.py
extracting messages from sophie_bot/metrics/ai.py
extracting messages from sophie_bot/metrics/background.py
extracting messages from sophie_bot/metrics/external.py
extracting messages from sophie_bot/metrics/middleware.py
extracting messages from sophie_bot/metrics/prom.py
extracting messages from sophie_bot/middlewares/__init__.py
extracting messages from sophie_bot/middlewares/beta.py
extracting messages from sophie_bot/middlewares/connections.py
extracting messages from sophie_bot/middlewares/debug.py
extracting messages from sophie_bot/middlewares/disabling.py
extracting messages from sophie_bot/middlewares/localization.py
extracting messages from sophie_bot/middlewares/logic.py
extracting messages from sophie_bot/middlewares/memory_debug.py
extracting messages from sophie_bot/middlewares/save_chats.py
extracting messages from sophie_bot/modes/__init__.py
extracting messages from sophie_bot/modes/bot.py
extracting messages from sophie_bot/modes/rest.py
extracting messages from sophie_bot/modes/scheduler.py
extracting messages from sophie_bot/modules/__init__.py
extracting messages from sophie_bot/modules/ai/__init__.py
extracting messages from sophie_bot/modules/ai/callbacks.py
extracting messages from sophie_bot/modules/ai/texts.py
extracting messages from sophie_bot/modules/ai/agent_tools/cmds_help.py
extracting messages from sophie_bot/modules/ai/agent_tools/memory.py
extracting messages from sophie_bot/modules/ai/agent_tools/notes.py
extracting messages from sophie_bot/modules/ai/api/__init__.py
extracting messages from sophie_bot/modules/ai/api/moderator.py
extracting messages from sophie_bot/modules/ai/api/schemas.py
extracting messages from sophie_bot/modules/ai/filters/ai_enabled.py
extracting messages from sophie_bot/modules/ai/filters/throttle.py
extracting messages from sophie_bot/modules/ai/fsm/playground.py
extracting messages from sophie_bot/modules/ai/fsm/pm.py
extracting messages from sophie_bot/modules/ai/handlers/ai_cmd.py
extracting messages from sophie_bot/modules/ai/handlers/ai_moderator_setting.py
extracting messages from sophie_bot/modules/ai/handlers/aiprovider.py
extracting messages from sophie_bot/modules/ai/handlers/aisave.py
extracting messages from sophie_bot/modules/ai/handlers/autotranslate_setting.py
extracting messages from sophie_bot/modules/ai/handlers/enable_setting.py
extracting messages from sophie_bot/modules/ai/handlers/filter.py
extracting messages from sophie_bot/modules/ai/handlers/mode.py
extracting messages from sophie_bot/modules/ai/handlers/op_stats.py
extracting messages from sophie_bot/modules/ai/handlers/playground.py
extracting messages from sophie_bot/modules/ai/handlers/pm.py
extracting messages from sophie_bot/modules/ai/handlers/reply.py
extracting messages from sophie_bot/modules/ai/handlers/reset_context.py
extracting messages from sophie_bot/modules/ai/handlers/translate.py
extracting messages from sophie_bot/modules/ai/json_schemas/aisave.py
extracting messages from sophie_bot/modules/ai/json_schemas/translate.py
extracting messages from sophie_bot/modules/ai/json_schemas/update_note_description.py
extracting messages from sophie_bot/modules/ai/magic_handlers/filter.py
extracting messages from sophie_bot/modules/ai/magic_handlers/modern_action.py
extracting messages from sophie_bot/modules/ai/middlewares/ai_moderator.py
extracting messages from sophie_bot/modules/ai/middlewares/auto_translate.py
extracting messages from sophie_bot/modules/ai/middlewares/cache_bot_messages.py
extracting messages from sophie_bot/modules/ai/middlewares/cache_user_messages.py
extracting messages from sophie_bot/modules/ai/utils/ai_agent_run.py
extracting messages from sophie_bot/modules/ai/utils/ai_chatbot_reply.py
extracting messages from sophie_bot/modules/ai/utils/ai_get_provider.py
extracting messages from sophie_bot/modules/ai/utils/ai_header.py
extracting messages from sophie_bot/modules/ai/utils/ai_models.py
extracting messages from sophie_bot/modules/ai/utils/ai_moderator.py
extracting messages from sophie_bot/modules/ai/utils/ai_tool_context.py
extracting messages from sophie_bot/modules/ai/utils/cache_messages.py
extracting messages from sophie_bot/modules/ai/utils/detect_lang.py
extracting messages from sophie_bot/modules/ai/utils/new_ai_chatbot.py
extracting messages from sophie_bot/modules/ai/utils/new_message_history.py
extracting messages from sophie_bot/modules/ai/utils/self_reply.py
extracting messages from sophie_bot/modules/ai/utils/transform_audio.py
extracting messages from sophie_bot/modules/antiflood/__init__.py
extracting messages from sophie_bot/modules/antiflood/api/__init__.py
extracting messages from sophie_bot/modules/antiflood/api/actions.py
extracting messages from sophie_bot/modules/antiflood/api/antiflood.py
extracting messages from sophie_bot/modules/antiflood/handlers/__init__.py
extracting messages from sophie_bot/modules/antiflood/handlers/antiflood_setting.py
extracting messages from sophie_bot/modules/antiflood/middlewares/__init__.py
extracting messages from sophie_bot/modules/antiflood/middlewares/enforcer.py
extracting messages from sophie_bot/modules/connections/__init__.py
extracting messages from sophie_bot/modules/connections/handlers/__init__.py
extracting messages from sophie_bot/modules/connections/handlers/connect_dm.py
extracting messages from sophie_bot/modules/connections/handlers/connect_group.py
extracting messages from sophie_bot/modules/connections/handlers/disconnect.py
extracting messages from sophie_bot/modules/connections/handlers/settings.py
extracting messages from sophie_bot/modules/connections/handlers/start_connect.py
extracting messages from sophie_bot/modules/connections/utils/connection.py
extracting messages from sophie_bot/modules/connections/utils/constants.py
extracting messages from sophie_bot/modules/connections/utils/texts.py
extracting messages from sophie_bot/modules/disabling/__init__.py
extracting messages from sophie_bot/modules/disabling/callbacks.py
extracting messages from sophie_bot/modules/disabling/export.py
extracting messages from sophie_bot/modules/disabling/api/__init__.py
extracting messages from sophie_bot/modules/disabling/api/get.py
extracting messages from sophie_bot/modules/disabling/api/put.py
extracting messages from sophie_bot/modules/disabling/api/schemas.py
extracting messages from sophie_bot/modules/disabling/handlers/disable.py
extracting messages from sophie_bot/modules/disabling/handlers/disable_able.py
extracting messages from sophie_bot/modules/disabling/handlers/disabled.py
extracting messages from sophie_bot/modules/disabling/handlers/enable.py
extracting messages from sophie_bot/modules/disabling/handlers/enable_all.py
extracting messages from sophie_bot/modules/disabling/utils/get_disabled.py
extracting messages from sophie_bot/modules/error/__init__.py
extracting messages from sophie_bot/modules/error/handlers/crash_handler.py
extracting messages from sophie_bot/modules/error/handlers/error.py
extracting messages from sophie_bot/modules/error/utils/backoff.py
extracting messages from sophie_bot/modules/error/utils/capture.py
extracting messages from sophie_bot/modules/error/utils/error_message.py
extracting messages from sophie_bot/modules/error/utils/haikus.py
extracting messages from sophie_bot/modules/error/utils/ignored.py
extracting messages from sophie_bot/modules/federations/__init__.py
extracting messages from sophie_bot/modules/federations/config.py
extracting messages from sophie_bot/modules/federations/args/ban.py
extracting messages from sophie_bot/modules/federations/args/fed_id.py
extracting messages from sophie_bot/modules/federations/handlers/accept_transfer.py
extracting messages from sophie_bot/modules/federations/handlers/ban.py
extracting messages from sophie_bot/modules/federations/handlers/banlist.py
extracting messages from sophie_bot/modules/federations/handlers/create.py
extracting messages from sophie_bot/modules/federations/handlers/info.py
extracting messages from sophie_bot/modules/federations/handlers/join.py
extracting messages from sophie_bot/modules/federations/handlers/leave.py
extracting messages from sophie_bot/modules/federations/handlers/logs.py
extracting messages from sophie_bot/modules/federations/handlers/subscribe.py
extracting messages from sophie_bot/modules/federations/handlers/transfer.py
extracting messages from sophie_bot/modules/federations/handlers/unban.py
extracting messages from sophie_bot/modules/federations/middlewares/check_fban.py
extracting messages from sophie_bot/modules/federations/services/federation.py
extracting messages from sophie_bot/modules/federations/services/permissions.py
extracting messages from sophie_bot/modules/filters/__init__.py
extracting messages from sophie_bot/modules/filters/callbacks.py
extracting messages from sophie_bot/modules/filters/enforce_middleware.py
extracting messages from sophie_bot/modules/filters/fsm.py
extracting messages from sophie_bot/modules/filters/handlers/action_change_setting_confirm.py
extracting messages from sophie_bot/modules/filters/handlers/action_remove.py
extracting messages from sophie_bot/modules/filters/handlers/action_select.py
extracting messages from sophie_bot/modules/filters/handlers/action_setting_select.py
extracting messages from sophie_bot/modules/filters/handlers/action_setup_confirm.py
extracting messages from sophie_bot/modules/filters/handlers/actions_list.py
extracting messages from sophie_bot/modules/filters/handlers/actions_list_to_remove.py
extracting messages from sophie_bot/modules/filters/handlers/add.py
extracting messages from sophie_bot/modules/filters/handlers/confirm.py
extracting messages from sophie_bot/modules/filters/handlers/filter_confirm.py
extracting messages from sophie_bot/modules/filters/handlers/filter_del.py
extracting messages from sophie_bot/modules/filters/handlers/filter_edit.py
extracting messages from sophie_bot/modules/filters/handlers/filter_new.py
extracting messages from sophie_bot/modules/filters/handlers/filter_save.py
extracting messages from sophie_bot/modules/filters/handlers/filters_list.py
extracting messages from sophie_bot/modules/filters/types/modern_action_abc.py
extracting messages from sophie_bot/modules/filters/types/modern_action_data_types.py
extracting messages from sophie_bot/modules/filters/utils_/ai_filter_schema.py
extracting messages from sophie_bot/modules/filters/utils_/all_modern_actions.py
extracting messages from sophie_bot/modules/filters/utils_/extract_content.py
extracting messages from sophie_bot/modules/filters/utils_/filter_abc.py
extracting messages from sophie_bot/modules/filters/utils_/filter_action_text.py
extracting messages from sophie_bot/modules/filters/utils_/filter_actions_keyboard.py
extracting messages from sophie_bot/modules/filters/utils_/handle_action.py
extracting messages from sophie_bot/modules/filters/utils_/legacy_filter_actions.py
extracting messages from sophie_bot/modules/filters/utils_/legacy_filter_handler.py
extracting messages from sophie_bot/modules/filters/utils_/match_legacy.py
extracting messages from sophie_bot/modules/greetings/__init__.py
extracting messages from sophie_bot/modules/greetings/default_welcome.py
extracting messages from sophie_bot/modules/greetings/handlers/enablewelcome.py
extracting messages from sophie_bot/modules/greetings/handlers/set_join_request.py
extracting messages from sophie_bot/modules/greetings/handlers/status_cleanservice.py
extracting messages from sophie_bot/modules/greetings/handlers/status_cleanwelcome.py
extracting messages from sophie_bot/modules/greetings/handlers/status_greetings.py
extracting messages from sophie_bot/modules/greetings/handlers/status_overall.py
extracting messages from sophie_bot/modules/greetings/middlewares/leave_user.py
extracting messages from sophie_bot/modules/greetings/middlewares/new_user.py
extracting messages from sophie_bot/modules/greetings/utils/send_welcome.py
extracting messages from sophie_bot/modules/help/__init__.py
extracting messages from sophie_bot/modules/help/callbacks.py
extracting messages from sophie_bot/modules/help/stats.py
extracting messages from sophie_bot/modules/help/handlers/help_group.py
extracting messages from sophie_bot/modules/help/handlers/op.py
extracting messages from sophie_bot/modules/help/handlers/pm_modules.py
extracting messages from sophie_bot/modules/help/handlers/set_lang_legacy.py
extracting messages from sophie_bot/modules/help/handlers/start_group.py
extracting messages from sophie_bot/modules/help/handlers/start_pm.py
extracting messages from sophie_bot/modules/help/utils/extract_info.py
extracting messages from sophie_bot/modules/help/utils/format_help.py
extracting messages from sophie_bot/modules/language/__init__.py
extracting messages from sophie_bot/modules/language/handlers/__init__.py
extracting messages from sophie_bot/modules/language/handlers/language.py
extracting messages from sophie_bot/modules/locks/__init__.py
extracting messages from sophie_bot/modules/locks/handlers/lockable.py
extracting messages from sophie_bot/modules/notes/__init__.py
extracting messages from sophie_bot/modules/notes/callbacks.py
extracting messages from sophie_bot/modules/notes/api/__init__.py
extracting messages from sophie_bot/modules/notes/api/create.py
extracting messages from sophie_bot/modules/notes/api/delete.py
extracting messages from sophie_bot/modules/notes/api/get.py
extracting messages from sophie_bot/modules/notes/api/schemas.py
extracting messages from sophie_bot/modules/notes/api/update.py
extracting messages from sophie_bot/modules/notes/api/utils.py
extracting messages from sophie_bot/modules/notes/filters/pm_notes.py
extracting messages from sophie_bot/modules/notes/handlers/delete.py
extracting messages from sophie_bot/modules/notes/handlers/delete_all.py
extracting messages from sophie_bot/modules/notes/handlers/get.py
extracting messages from sophie_bot/modules/notes/handlers/legacy_button.py
extracting messages from sophie_bot/modules/notes/handlers/list.py
extracting messages from sophie_bot/modules/notes/handlers/pmnotes_handler.py
extracting messages from sophie_bot/modules/notes/handlers/pmnotes_setting.py
extracting messages from sophie_bot/modules/notes/handlers/save.py
extracting messages from sophie_bot/modules/notes/handlers/search.py
extracting messages from sophie_bot/modules/notes/magic_handlers/descriptions_scheduler.py
extracting messages from sophie_bot/modules/notes/magic_handlers/export.py
extracting messages from sophie_bot/modules/notes/magic_handlers/filter.py
extracting messages from sophie_bot/modules/notes/magic_handlers/modern_filter.py
extracting messages from sophie_bot/modules/notes/magic_handlers/reply_action.py
extracting messages from sophie_bot/modules/notes/magic_handlers/send_note_action.py
extracting messages from sophie_bot/modules/notes/schedules/generate_ai_titles.py
extracting messages from sophie_bot/modules/notes/utils/combine.py
extracting messages from sophie_bot/modules/notes/utils/extract_markdown_entities.py
extracting messages from sophie_bot/modules/notes/utils/fillings.py
extracting messages from sophie_bot/modules/notes/utils/list.py
extracting messages from sophie_bot/modules/notes/utils/names.py
extracting messages from sophie_bot/modules/notes/utils/parse.py
extracting messages from sophie_bot/modules/notes/utils/random_parser.py
extracting messages from sophie_bot/modules/notes/utils/send.py
extracting messages from sophie_bot/modules/notes/utils/unparse_legacy.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/buttons.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/legacy.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/list_from_message.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/registry.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/unparse.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/CaptchaButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/ConnectButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/DeleteButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/MarkdownLinkArgument.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/NoteButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/RulesButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/SophieButtonABC.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/SophieDMButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/TextWithButtonsArg.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/URLButton.py
extracting messages from sophie_bot/modules/notes/utils/buttons_processor/ass_types/parse_arg.py
extracting messages from sophie_bot/modules/op/__init__.py
extracting messages from sophie_bot/modules/op/api/__init__.py
extracting messages from sophie_bot/modules/op/api/health.py
extracting messages from sophie_bot/modules/op/handlers/Banner.py
extracting messages from sophie_bot/modules/op/handlers/ButtonsTest.py
extracting messages from sophie_bot/modules/op/handlers/Captcha.py
extracting messages from sophie_bot/modules/op/handlers/KillSwitch.py
extracting messages from sophie_bot/modules/op/handlers/ListJobs.py
extracting messages from sophie_bot/modules/op/handlers/StopJobs.py
extracting messages from sophie_bot/modules/op/handlers/event.py
extracting messages from sophie_bot/modules/op/handlers/stats.py
extracting messages from sophie_bot/modules/pins/__init__.py
extracting messages from sophie_bot/modules/pins/handlers/__init__.py
extracting messages from sophie_bot/modules/pins/handlers/pin.py
extracting messages from sophie_bot/modules/pins/handlers/unpin.py
extracting messages from sophie_bot/modules/privacy/__init__.py
extracting messages from sophie_bot/modules/privacy/callbacks.py
extracting messages from sophie_bot/modules/privacy/handlers/export.py
extracting messages from sophie_bot/modules/privacy/handlers/privacy.py
extracting messages from sophie_bot/modules/promotes/__init__.py
extracting messages from sophie_bot/modules/promotes/handlers/demote.py
extracting messages from sophie_bot/modules/promotes/handlers/promote.py
extracting messages from sophie_bot/modules/purges/__init__.py
extracting messages from sophie_bot/modules/purges/handlers/button.py
extracting messages from sophie_bot/modules/purges/handlers/delete.py
extracting messages from sophie_bot/modules/purges/handlers/purge.py
extracting messages from sophie_bot/modules/purges/magic_handlers/filter.py
extracting messages from sophie_bot/modules/purges/magic_handlers/modern_filter.py
extracting messages from sophie_bot/modules/reports/__init__.py
extracting messages from sophie_bot/modules/reports/handlers/__init__.py
extracting messages from sophie_bot/modules/reports/handlers/report.py
extracting messages from sophie_bot/modules/rest/__init__.py
extracting messages from sophie_bot/modules/rest/api/__init__.py
extracting messages from sophie_bot/modules/rest/api/auth.py
extracting messages from sophie_bot/modules/rest/api/groups.py
extracting messages from sophie_bot/modules/restrictions/__init__.py
extracting messages from sophie_bot/modules/restrictions/actions/ban.py
extracting messages from sophie_bot/modules/restrictions/actions/kick.py
extracting messages from sophie_bot/modules/restrictions/actions/mute.py
extracting messages from sophie_bot/modules/restrictions/handlers/__init__.py
extracting messages from sophie_bot/modules/restrictions/handlers/ban.py
extracting messages from sophie_bot/modules/restrictions/handlers/kick.py
extracting messages from sophie_bot/modules/restrictions/handlers/mute.py
extracting messages from sophie_bot/modules/restrictions/handlers/unban.py
extracting messages from sophie_bot/modules/restrictions/handlers/unmute.py
extracting messages from sophie_bot/modules/restrictions/utils/__init__.py
extracting messages from sophie_bot/modules/restrictions/utils/restrictions.py
extracting messages from sophie_bot/modules/rules/__init__.py
extracting messages from sophie_bot/modules/rules/api/__init__.py
extracting messages from sophie_bot/modules/rules/api/get.py
extracting messages from sophie_bot/modules/rules/api/put.py
extracting messages from sophie_bot/modules/rules/api/schemas.py
extracting messages from sophie_bot/modules/rules/handlers/get.py
extracting messages from sophie_bot/modules/rules/handlers/legacy_button.py
extracting messages from sophie_bot/modules/rules/handlers/reset.py
extracting messages from sophie_bot/modules/rules/handlers/set.py
extracting messages from sophie_bot/modules/rules/magic_handlers/filter.py
extracting messages from sophie_bot/modules/rules/magic_handlers/modern_filter.py
extracting messages from sophie_bot/modules/troubleshooters/__init__.py
extracting messages from sophie_bot/modules/troubleshooters/callbacks.py
extracting messages from sophie_bot/modules/troubleshooters/stats.py
extracting messages from sophie_bot/modules/troubleshooters/handlers/admincache.py
extracting messages from sophie_bot/modules/troubleshooters/handlers/beta_state.py
extracting messages from sophie_bot/modules/troubleshooters/handlers/cancel.py
extracting messages from sophie_bot/modules/troubleshooters/handlers/cancel_callback.py
extracting messages from sophie_bot/modules/troubleshooters/handlers/op_settings.py
extracting messages from sophie_bot/modules/users/__init__.py
extracting messages from sophie_bot/modules/users/stats.py
extracting messages from sophie_bot/modules/users/handlers/adminlist.py
extracting messages from sophie_bot/modules/users/handlers/id.py
extracting messages from sophie_bot/modules/users/handlers/info.py
extracting messages from sophie_bot/modules/utils_/admin.py
extracting messages from sophie_bot/modules/utils_/base_handler.py
extracting messages from sophie_bot/modules/utils_/chat_member.py
extracting messages from sophie_bot/modules/utils_/common_try.py
extracting messages from sophie_bot/modules/utils_/get_user.py
extracting messages from sophie_bot/modules/utils_/message.py
extracting messages from sophie_bot/modules/utils_/reply_or_edit.py
extracting messages from sophie_bot/modules/utils_/status_handler.py
extracting messages from sophie_bot/modules/utils_/telegram_exceptions.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/__init__.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/base.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/callback.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/callbacks.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/cancel.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/controller.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/done.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/factory.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/fsm.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/helpers.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/renderer.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/service.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/settings.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/setup.py
extracting messages from sophie_bot/modules/utils_/action_config_wizard/wizard.py
extracting messages from sophie_bot/modules/utils_/scheduler/chat_language.py
extracting messages from sophie_bot/modules/utils_/scheduler/for_chats.py
extracting messages from sophie_bot/modules/warns/__init__.py
extracting messages from sophie_bot/modules/warns/utils.py
extracting messages from sophie_bot/modules/warns/api/__init__.py
extracting messages from sophie_bot/modules/warns/api/warns.py
extracting messages from sophie_bot/modules/warns/handlers/__init__.py
extracting messages from sophie_bot/modules/warns/handlers/warn.py
extracting messages from sophie_bot/modules/warns/magic_handlers/modern_action.py
extracting messages from sophie_bot/modules/welcomesecurity/__init__.py
extracting messages from sophie_bot/modules/welcomesecurity/callbacks.py
extracting messages from sophie_bot/modules/welcomesecurity/fsm.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/captcha_confirm.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/captcha_get.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/chat_join_request.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/enable_welcomemute.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/enable_ws.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/legacy_button.py
extracting messages from sophie_bot/modules/welcomesecurity/handlers/status_overall.py
extracting messages from sophie_bot/modules/welcomesecurity/middlewares/lock_muted_users.py
extracting messages from sophie_bot/modules/welcomesecurity/schedules/ban_unpassed_users.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/captcha_done.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/captcha_rules.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/complete_captcha.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/db_time_convert.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/emoji_captcha.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/initiate_captcha.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/on_new_user.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/on_user_passed.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/send_captcha.py
extracting messages from sophie_bot/modules/welcomesecurity/utils_/welcomemute.py
extracting messages from sophie_bot/services/ai.py
extracting messages from sophie_bot/services/bot.py
extracting messages from sophie_bot/services/db.py
extracting messages from sophie_bot/services/i18n.py
extracting messages from sophie_bot/services/redis.py
extracting messages from sophie_bot/services/rest.py
extracting messages from sophie_bot/services/scheduler.py
extracting messages from sophie_bot/services/sentry.py
extracting messages from sophie_bot/utils/cached.py
extracting messages from sophie_bot/utils/emoji_banner.py
extracting messages from sophie_bot/utils/errors.py
extracting messages from sophie_bot/utils/exception.py
extracting messages from sophie_bot/utils/feature_flags.py
extracting messages from sophie_bot/utils/handlers.py
extracting messages from sophie_bot/utils/i18n.py
extracting messages from sophie_bot/utils/logger.py
extracting messages from sophie_bot/utils/normalize.py
extracting messages from sophie_bot/utils/api/auth.py
extracting messages from sophie_bot/utils/api/rate_limiter.py
extracting messages from sophie_bot/utils/api/schemas.py
writing PO template file to /home/yacha/Projects/Otty/sophie/locales/bot.pot
cd "/home/yacha/Projects/Otty/sophie/.venv/lib/python3.13/site-packages/ass_tg" && \
"pybabel" extract -k "pl_:1,2" -k "p_:1,2" -k "l_:1" \
--add-comments="NOTE: " -o "/home/yacha/Projects/Otty/sophie/locales/ass.pot" --omit-header --sort-by-file --no-wrap .
extracting messages from __init__.py
extracting messages from entities.py
extracting messages from exceptions.py
extracting messages from i18n.py
extracting messages from middleware.py
extracting messages from types/__init__.py
extracting messages from types/aliases.py
extracting messages from types/base_abc.py
extracting messages from types/entities.py
extracting messages from types/keyvalue.py
extracting messages from types/lists.py
extracting messages from types/logic.py
extracting messages from types/one_of.py
extracting messages from types/oneword.py
extracting messages from types/reverse.py
extracting messages from types/text.py
extracting messages from types/text_eq.py
extracting messages from types/text_rules.py
extracting messages from types/time_arg.py
extracting messages from types/user.py
extracting messages from types/wrapped.py
writing PO template file to /home/yacha/Projects/Otty/sophie/locales/ass.pot
# Merge
cp "/home/yacha/Projects/Otty/sophie/locales/bot.pot" "/home/yacha/Projects/Otty/sophie/locales/sophie.pot"
cat "/home/yacha/Projects/Otty/sophie/locales/ass.pot" >> "/home/yacha/Projects/Otty/sophie/locales/sophie.pot"
uv run python -m pycln . -a -c
  sophie_bot/modules/disabling/__init__.py file has been skipped âš ï¸:
        Pycln can not decide whether the unused imported names
        are useless or imported to be used somewhere else (exported).
        Please consider adding an `__all__` dunder (then re-run Pycln).
        For more info:
        https://hadialqattan.github.io/pycln/#/?id=init-file-__init__py

  sophie_bot/modules/rules/__init__.py file has been skipped âš ï¸:
        Pycln can not decide whether the unused imported names
        are useless or imported to be used somewhere else (exported).
        Please consider adding an `__all__` dunder (then re-run Pycln).
        For more info:
        https://hadialqattan.github.io/pycln/#/?id=init-file-__init__py

Wait a minute, there were undecidable cases! ðŸ˜³ðŸ˜…
447 files would be left unchanged, 2 undecidable cases would be skipped.
uv run ruff format sophie_bot/ --check
431 files already formatted
uv run ruff check .
All checks passed!
# uv run python -m bandit sophie_bot/ -r
uv run ty check
error[invalid-argument-type]: Argument to bound method `add_middleware` is incorrect
  --> sophie_bot/services/rest.py:46:24
   |
45 |     # Security headers middleware
46 |     app.add_middleware(SecurityHeadersMiddleware)
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `_MiddlewareFactory[(...)]`, found `<class 'SecurityHeadersMiddleware'>`
47 |
48 |     # Request size limit middleware
   |
info: Method defined here
   --> .venv/lib/python3.13/site-packages/starlette/applications.py:118:9
    |
116 |         self.router.host(host, app=app, name=name)  # pragma: no cover
117 |
118 |     def add_middleware(
    |         ^^^^^^^^^^^^^^
119 |         self,
120 |         middleware_class: _MiddlewareFactory[P],
    |         --------------------------------------- Parameter declared here
121 |         *args: P.args,
122 |         **kwargs: P.kwargs,
    |
info: rule `invalid-argument-type` is enabled by default
error[invalid-argument-type]: Argument to bound method `add_middleware` is incorrect
  --> sophie_bot/services/rest.py:49:24
   |
48 |     # Request size limit middleware
49 |     app.add_middleware(RequestSizeLimitMiddleware, max_size=MAX_REQUEST_SIZE)
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^ Expected `_MiddlewareFactory[(...)]`, found `<class 'RequestSizeLimitMiddleware'>`
50 |
51 |     # CORS middleware
   |
info: Method defined here
   --> .venv/lib/python3.13/site-packages/starlette/applications.py:118:9
    |
116 |         self.router.host(host, app=app, name=name)  # pragma: no cover
117 |
118 |     def add_middleware(
    |         ^^^^^^^^^^^^^^
119 |         self,
120 |         middleware_class: _MiddlewareFactory[P],
    |         --------------------------------------- Parameter declared here
121 |         *args: P.args,
122 |         **kwargs: P.kwargs,
    |
info: rule `invalid-argument-type` is enabled by default
Found 2 diagnostics
make: *** [Makefile:69: test_codeanalysis] Error 1